# HOXY NUMBER 프로젝트 컨텍스트

## 프로젝트 개요
로또 번호 생성기 웹 애플리케이션 (100% 클라이언트 사이드)

## 기술 스택
- **Frontend**: HTML, CSS (Tailwind CDN), Vanilla JavaScript
- **Storage**: LocalStorage + Firebase Firestore
- **Backend**: Firebase (Firestore Database)
- **Hosting**: GitHub Pages
  - Repository: https://github.com/Dunsmile/hoxy-number.git
  - Live URL: https://dunsmile.github.io/hoxy-number

## 주요 파일
- `index.html` (34KB) - 메인 페이지
- `js/app.js` (51KB) - 애플리케이션 로직
- `css/style.css` (5KB) - 커스텀 스타일

## 핵심 기능
1. **로또 번호 생성** - 1~45 중 6개 랜덤 생성
2. **일일 할당량 시스템** - 기본 10회/일, 광고 시청 시 +5회 추가
3. **연속 5회 뽑기** - 광고 시청으로 한 번에 5개 번호 생성
4. **슬롯 시스템** - 최근 생성 번호 저장 (기본 5슬롯, 광고로 +5 확장, 최대 무제한)
5. **번호 관리** - 저장 번호 페이지네이션 (페이지당 10개), 전체 저장 기능
6. **당첨 확인** - 1등~5등 당첨 등수 표시 (수동 입력 + 저장 번호 자동 확인)
7. **오늘의 행운 번호** - 매일 자정 갱신, 광고 시청 후 공개
8. **스와이프 저장/삭제** - 양방향 스와이프 제스처 (오른쪽: 저장, 왼쪽: 삭제)
9. **당첨 회차 선택** - 최근 10회차 드롭다운 (Firestore 캐싱)

## 코딩 스타일
- 한국어 주석 사용
- 함수명: camelCase
- 이모지 사용 (사용자 선호)
- 모바일 우선 반응형 디자인

## 최근 작업 이력
- ✅ Firebase 백엔드 통합 완료 (commit: 575f300)
- ✅ GitHub Pages 퍼블리싱 완료
- ✅ Git 저장소 초기화 및 설정 완료

## Firebase 설정
- **Project ID**: hoxy-number
- **Auth Domain**: hoxy-number.firebaseapp.com
- **Database**: Firestore
- **Storage**: hoxy-number.firebasestorage.app

### Firestore 컬렉션
- `generated_numbers`: 사용자가 생성한 번호 저장
- `winning_numbers`: 당첨 번호 캐시 (회차별 당첨 정보)

## 중요 설정값
```javascript
const DEFAULT_QUOTA = 10;        // 일일 생성 횟수
let recentSlots = 5;            // 기본 슬롯 수
```

## LocalStorage 키
- `hoxy_quota`: 일일 생성 할당량
- `hoxy_recent`: 최근 생성 번호
- `hoxy_saved`: 저장된 번호
- `hoxy_lucky`: 오늘의 행운 번호
- `hoxy_recent_slots`: 슬롯 개수
- `hoxy_pages_unlocked`: 최근 번호 페이지 잠금 해제 수
- `hoxy_saved_pages_unlocked`: 저장 번호 페이지 잠금 해제 수

## 디자인 특징
- 그라데이션 UI (생동감 있는 효과)
- 부드러운 애니메이션과 트랜지션
- 직관적이고 터치 친화적인 인터페이스
- 모달 최대 너비 480px로 최적화

## 프로젝트 정보
- **버전**: v1.1 (2026-02-03 UI 개선)
- **이전 버전**: v1.0 (2025-01-29 초기 릴리즈)
- **개발자**: 스티브 (UX/UI Designer & Developer)
- **라이센스**: MIT License

## 🎯 비즈니스 모델 & 수익화 전략

### 핵심 전략
**소셜 프루프 기반 사용자 유입 퍼널**
- 홈페이지에 "이 사이트에서 당첨자 X명 배출!" 카드 UI 표시
- 신규 방문자들이 실제 당첨 사례를 보고 신뢰하여 서비스 사용 유도
- 로또 → 사주/운세 서비스로 확장 예정

### 수익화 방식
1. **1단계 (현재)**: 완전 무료 + Google AdSense 광고
   - 사용자가 "광고 보기" 클릭 → 광고 시청 → 추가 기능 이용
   - 할당량 추가, 슬롯 확장, 연속 5회 뽑기, 행운 번호 공개
2. **2단계 (추후)**: 프리미엄 서비스
   - 무제한 생성, 고급 통계, 사주/운세 서비스 등

### 당첨자 통계 시스템 (핵심 기능)
**목적**: 소셜 프루프로 신규 사용자 전환율 향상

**표시 내용**:
- 해당 주차 당첨자 수 (1등~5등)
- 홈페이지 상단에 카드 UI로 눈에 띄게 배치
- 예: "🎉 이번 주 당첨자 127명! (5등 120명, 4등 6명, 3등 1명)"

**데이터 흐름**:
```
사용자 번호 생성
→ Firebase Firestore 저장
→ 매주 당첨번호 업데이트 (동행복권 API)
→ DB에서 당첨자 집계
→ 홈페이지 카드 UI 표시
```

## 🚧 현재 개발 상태

### ✅ 완료된 작업
- Firebase Firestore 설정 완료
- 번호 생성 시 DB 저장 구현 완료
- 개발자 모드에서 데이터 저장 확인 완료
- 광고 시청 UI 구현 완료 (실제 광고 미연동)
- 동행복권 API 연동 완료 (최신 회차 당첨 번호 자동 업데이트)
- 당첨 회차 드롭다운 개선 (2026-02-03)
  - Firestore `winning_numbers` 컬렉션에서 최근 10회차 로드
  - API 호출 후 자동 캐싱 (매주 자동 업데이트)
- 모바일 UI 개선 (2026-02-03)
  - 스와이프 양방향 지원: 오른쪽→저장(파란색), 왼쪽→삭제(빨간색)
  - "전체 저장" 버튼 추가 (최근 생성 번호 일괄 저장)
  - 번호 공/슬롯 레이아웃 최적화 (overflow 문제 해결)
  - 빈 슬롯 UI 개선 (중앙 정렬)

### 🔄 진행 중
- 당첨자 통계 계산 로직
- 홈페이지 당첨자 카드 UI

### 📋 다음 단계별 작업 계획

**Phase 1: 핵심 기능 완성 (우선순위 높음)**
1. ✅ 동행복권 API 연동
   - 최신 회차 당첨 번호 자동 가져오기
   - 회차 정보 자동 업데이트
2. ⬜ 당첨자 통계 시스템
   - Firestore에서 당첨자 집계 로직
   - 등수별 당첨자 수 계산
3. ⬜ 홈페이지 당첨자 카드 UI
   - 눈에 띄는 위치 배치
   - 실시간 업데이트 표시

**Phase 2: 수익화 실행**
4. ⬜ Google AdSense 계정 승인 받기
5. ⬜ Google AdSense 광고 코드 연동
   - "광고 보기" 버튼에 실제 광고 연결
   - 광고 시청 완료 감지 후 보상 지급

**Phase 3: 서비스 확장 (추후)**
6. ⬜ 통계 대시보드 (사용자별 당첨 이력)
7. ⬜ 사주/운세 서비스 추가
   - "오늘은 로또를 뽑기 좋은 날이에요!" 등
8. ⬜ 프리미엄 기능 (유료 전환)

## 🔗 외부 API 연동
- **동행복권 API**: 최신 회차 당첨 번호 (연동 완료 ✅)
- **Google AdSense**: 광고 수익화 (미연동)
